<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>âš½ AlienÃ­genasFC</title>

    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#0f1923">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="AlienÃ­genasFC">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    <meta name="description" content="Torneio semanal de futebol amador â€” Aligen Liga">

    <!-- Styles & Fonts -->
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

    <!-- Firebase SDK (compat for global script usage) -->
    <script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-firestore-compat.js"></script>
</head>
<body>
    <div id="app">
        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• LOGIN SCREEN â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <div id="login-screen" class="login-screen">
            <div class="login-card">
                <div class="login-logo">âš½</div>
                <h1 class="login-title">AlienÃ­genasFC</h1>
                <p class="login-subtitle">FaÃ§a login para continuar</p>
                <div class="input-group" style="margin-bottom:12px;">
                    <input type="email" id="login-email" placeholder="E-mail" maxlength="60" autocomplete="email">
                </div>
                <div class="input-group" style="margin-bottom:16px;">
                    <input type="password" id="login-password" placeholder="Senha" maxlength="50" autocomplete="current-password">
                </div>
                <button id="btn-login" class="btn btn-primary btn-block btn-lg">Entrar</button>
                <div class="login-divider"><span>ou</span></div>
                <button id="btn-google-login" class="btn btn-google btn-block btn-lg" type="button">
                    <svg viewBox="0 0 24 24" width="20" height="20" style="margin-right:8px;vertical-align:middle;"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 0 1-2.2 3.32v2.77h3.57c2.08-1.92 3.27-4.74 3.27-8.1z"/><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>
                    Entrar com Google
                </button>
                <div id="login-error" class="login-error hidden"></div>
            </div>
        </div>

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• HEADER â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <header class="app-header hidden" id="app-header">
            <h1>âš½ AlienÃ­genasFC</h1>
            <div class="header-user-area">
                <span id="header-user-role" class="user-role-badge"></span>
                <button id="btn-logout" class="btn-logout" title="Sair">ğŸšª</button>
            </div>
        </header>

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• MAIN CONTENT â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <main id="main-content" class="hidden">

            <!-- VIEW: Jogadores -->
            <section id="view-players" class="view active">
                <div class="view-header">
                    <h2>ğŸ‘¥ Jogadores</h2>
                    <p class="view-subtitle">Cadastre os jogadores que participam dos torneios</p>
                </div>
                <div id="player-add-area" class="input-group">
                    <input type="text" id="input-player-name" placeholder="Nome do jogador" maxlength="30" autocomplete="off">
                    <button id="btn-add-player" class="btn btn-primary">Adicionar</button>
                </div>
                <div id="player-count" class="count-badge"></div>
                <ul id="player-list" class="item-list"></ul>
            </section>

            <!-- VIEW: Admin / UsuÃ¡rios -->
            <section id="view-admin" class="view">
                <div class="view-header">
                    <h2>ğŸ” AdministraÃ§Ã£o</h2>
                    <p class="view-subtitle">Gerenciamento de usuÃ¡rios e permissÃµes</p>
                </div>
                <div id="admin-content"></div>
            </section>

            <!-- VIEW: Torneio (Setup) -->
            <section id="view-tournament" class="view">
                <div id="tournament-content"></div>
            </section>

            <!-- VIEW: Partidas -->
            <section id="view-matches" class="view">
                <div id="matches-content"></div>
            </section>

            <!-- VIEW: ClassificaÃ§Ã£o -->
            <section id="view-standings" class="view">
                <div class="view-header">
                    <h2>ğŸ“Š ClassificaÃ§Ã£o</h2>
                </div>
                <div id="standings-content"></div>
            </section>

            <!-- VIEW: EstatÃ­sticas -->
            <section id="view-stats" class="view">
                <div class="view-header">
                    <h2>ğŸ¥‡ Ranking Aligen Liga</h2>
                    <p class="view-subtitle">Stats do torneio atual e histÃ³rico geral</p>
                </div>
                <div id="stats-content"></div>
            </section>
        </main>

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• BOTTOM NAV â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <nav class="bottom-nav hidden" id="bottom-nav">
            <button class="nav-btn active" data-view="players">
                <span class="nav-icon">ğŸ‘¥</span>
                <span class="nav-label">Jogadores</span>
            </button>
            <button class="nav-btn" data-view="tournament">
                <span class="nav-icon">ğŸ†</span>
                <span class="nav-label">Torneio</span>
            </button>
            <button class="nav-btn" data-view="matches">
                <span class="nav-icon">âš½</span>
                <span class="nav-label">Partidas</span>
            </button>
            <button class="nav-btn" data-view="standings">
                <span class="nav-icon">ğŸ“Š</span>
                <span class="nav-label">Tabela</span>
            </button>
            <button class="nav-btn" data-view="stats">
                <span class="nav-icon">ğŸ¥‡</span>
                <span class="nav-label">Stats</span>
            </button>
            <button class="nav-btn nav-btn-admin" data-view="admin" id="nav-admin-btn">
                <span class="nav-icon">ğŸ”</span>
                <span class="nav-label">Admin</span>
            </button>
        </nav>

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• MODAL â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <div id="modal-overlay" class="modal-overlay hidden">
            <div id="modal-content" class="modal-content"></div>
        </div>

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• CHAMPION OVERLAY â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <div id="champion-overlay" class="champion-overlay hidden">
            <canvas id="confetti-canvas"></canvas>
            <div id="champion-content" class="champion-content"></div>
        </div>
    </div>

    <script src="firebase-config.js"></script>
    <script src="app.js"></script>

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then(reg => console.log('SW registrado:', reg.scope))
                    .catch(err => console.warn('SW falhou:', err));
            });
        }
    </script>
</body>
</html>
